Refined Entity Relationship Design:

Patient

Fields: id, firstName, lastName, dateOfBirth, gender, contactNumber, email, address, registrationDate

Relationships:

Patient ↔ Appointment: OneToMany (A patient can have many appointments)

Patient ↔ MedicalRecord: OneToMany (A patient can have many medical records)

Patient ↔ Bill: OneToMany (A patient can have many bills, but this can be optionally derived through appointments)

Patient ↔ User: OneToOne (A user profile for login/authentication)

Doctor

Fields: id, firstName, lastName, specialization, contactNumber, email, availabilitySchedule

Relationships:

Doctor ↔ Appointment: OneToMany (A doctor can have many appointments)

Doctor ↔ MedicalRecord: OneToMany (A doctor can have many medical records)

Doctor ↔ User: OneToOne (A user profile for login/authentication)

Appointment

Fields: id, patientId, doctorId, appointmentDate, status, reason

Relationships:

Appointment ↔ Patient: ManyToOne (An appointment is for one patient)

Appointment ↔ Doctor: ManyToOne (An appointment involves one doctor)

Appointment ↔ Bill: OneToOne (An appointment generates one bill)

Appointment ↔ Prescription: OneToMany (An appointment can generate multiple prescriptions)

MedicalRecord

Fields: id, patientId, doctorId, diagnosis, treatment, createdDate

Relationships:

MedicalRecord ↔ Patient: ManyToOne (A medical record belongs to one patient)

MedicalRecord ↔ Doctor: ManyToOne (A medical record is created by one doctor)

MedicalRecord ↔ Prescription: OneToMany (A medical record can have multiple prescriptions)

Prescription

Fields: id, medicalRecordId, medicineName, dosage, duration, instructions

Relationships:

Prescription ↔ MedicalRecord: ManyToOne (A prescription belongs to one medical record)

Prescription ↔ InventoryItem: ManyToMany (A prescription can contain multiple inventory items and each item can appear in multiple prescriptions)

Prescription ↔ Appointment: ManyToOne (Optional: A prescription can be directly linked to an appointment)

Bill

Fields: id, patientId, amount, status, dateIssued

Relationships:

Bill ↔ Appointment: OneToOne (Each appointment generates one bill)

Bill ↔ Patient: ManyToOne (A bill is linked to one patient, but can be derived through appointment)

Bill ↔ Payment: OneToMany (A bill can have multiple payments made towards it)

Payment

Fields: id, billId, amountPaid, paymentDate, paymentMethod

Relationships:

Payment ↔ Bill: ManyToOne (A payment is made towards a specific bill)

InventoryItem

Fields: id, name, quantity, price, expiryDate

Relationships:

InventoryItem ↔ Prescription: ManyToMany (Each prescription can contain multiple inventory items, and each inventory item can be used in multiple prescriptions)

User

Fields: id, username, password, role

Relationships:

User ↔ Patient: OneToOne (Each user can have a patient profile)

User ↔ Doctor: OneToOne (Each user can have a doctor profile)
